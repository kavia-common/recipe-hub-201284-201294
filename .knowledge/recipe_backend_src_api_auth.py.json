{"is_source_file": true, "format": "Python", "description": "This file implements API endpoints related to user authentication, including registration, login, token refresh, and fetching current user info, using FastAPI. It interacts with user models and handles JWT tokens.", "external_files": ["src.core.auth", "src.core.config", "src.core.db", "src.domain.users.models", "src.domain.users.schemas"], "external_methods": ["create_access_token", "create_refresh_token", "get_current_user", "hash_password", "normalize_email", "verify_password", "get_settings", "get_db_session", "decode_refresh_token"], "published": ["router"], "classes": [{"name": "User", "description": "User data model class representing user records in the database"}, {"name": "LoginRequest", "description": "Schema for login request payload containing email and password"}, {"name": "RefreshRequest", "description": "Schema for refresh token request payload"}, {"name": "TokenPair", "description": "Schema for returning access and refresh tokens"}, {"name": "UserRead", "description": "Schema for reading user data"}, {"name": "RegisterRequest", "description": "Schema for registration request payload"}], "methods": [{"name": "UserRead register(payload: RegisterRequest, db: AsyncSession = Depends(get_db_session))", "description": "Endpoint to register a new user with email and password", "scope": "", "scopeKind": ""}, {"name": "TokenPair login(payload: LoginRequest, db: AsyncSession = Depends(get_db_session))", "description": "Endpoint to authenticate a user and provide JWT tokens", "scope": "", "scopeKind": ""}, {"name": "TokenPair refresh(payload: RefreshRequest, db: AsyncSession = Depends(get_db_session))", "description": "Endpoint to refresh JWT tokens using a valid refresh token", "scope": "", "scopeKind": ""}, {"name": "UserRead me( current_user=Depends(get_current_user), db: AsyncSession = Depends(get_db_session), )", "description": "Endpoint to get the current user's details using the access token", "scope": "", "scopeKind": ""}], "calls": ["select(User).where(User.email == email)", "select(User).where(User.id == str(user_id))", "create_access_token(...)", "create_refresh_token(...)", "decode_refresh_token(payload.refresh_token)", "get_settings()", "get_db_session()", "get_current_user"], "search-terms": ["auth registration login refresh", "JWT token management", "FastAPI auth endpoints", "user model interaction", "token pair"], "state": 2, "file_id": 15, "knowledge_revision": 38, "git_revision": "", "ctags": [{"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/recipe-hub-201284-201294/recipe_backend/src/api/auth.py", "pattern": "/^async def login(payload: LoginRequest, db: AsyncSession = Depends(get_db_session)) -> TokenPair:$/", "language": "Python", "typeref": "typename:TokenPair", "kind": "function", "signature": "(payload: LoginRequest, db: AsyncSession = Depends(get_db_session))"}, {"_type": "tag", "name": "me", "path": "/home/kavia/workspace/code-generation/recipe-hub-201284-201294/recipe_backend/src/api/auth.py", "pattern": "/^async def me($/", "language": "Python", "typeref": "typename:UserRead", "kind": "function", "signature": "( current_user=Depends(get_current_user), db: AsyncSession = Depends(get_db_session), )"}, {"_type": "tag", "name": "refresh", "path": "/home/kavia/workspace/code-generation/recipe-hub-201284-201294/recipe_backend/src/api/auth.py", "pattern": "/^async def refresh(payload: RefreshRequest, db: AsyncSession = Depends(get_db_session)) -> TokenP/", "language": "Python", "typeref": "typename:TokenPair", "kind": "function", "signature": "(payload: RefreshRequest, db: AsyncSession = Depends(get_db_session))"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/recipe-hub-201284-201294/recipe_backend/src/api/auth.py", "pattern": "/^async def register(payload: RegisterRequest, db: AsyncSession = Depends(get_db_session)) -> User/", "language": "Python", "typeref": "typename:UserRead", "kind": "function", "signature": "(payload: RegisterRequest, db: AsyncSession = Depends(get_db_session))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/recipe-hub-201284-201294/recipe_backend/src/api/auth.py", "pattern": "/^router = APIRouter(prefix=\"\\/auth\", tags=[\"auth\"])$/", "language": "Python", "kind": "variable"}], "hash": "118356931da9cdd3c8bfea00b30da30d", "format-version": 4, "code-base-name": "recipe_backend", "filename": "recipe_backend/src/api/auth.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/auth\", tags=[\"auth\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"38": ""}]}